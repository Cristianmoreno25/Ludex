/* submenu.css - Desktop toggleable; mobile: sidebar & button hidden, bottom-nav visible */

:root{
  --submenu-width: 250px;
  --submenu-z: 1300;
}

/* ===== Base: sidebar oculta por transform (se muestra en desktop por media query) ===== */
.submenu {
  position: fixed;
  top: 0;
  left: 0;
  width: var(--submenu-width);
  height: 100%;
  background: #fff;
  box-shadow: 2px 0 8px rgba(0,0,0,0.15);
  transform: translateX(-100%); /* hidden by default (mobile) */
  transition: transform 0.25s ease-in-out;
  padding-top: 4rem;
  z-index: var(--submenu-z);
}

/* List styles */
.submenu ul { list-style:none; margin:0; padding:0; }
.submenu li { margin:1rem 0; }
.submenu a {
  display:flex; align-items:center; gap:.75rem;
  padding:.75rem 1.5rem; color:#333; text-decoration:none; font-weight:600;
}
.submenu a:hover, .submenu a:focus { background:#f4f4f4; color:#000; outline:none; }

/* Overlay used only if sidebar is opened as overlay (we won't use it in mobile per your request) */
.overlay { display:none; }
body.submenu-open .overlay {
  display:block;
  position:fixed; inset:0;
  background: rgba(0,0,0,0.4);
  z-index: calc(var(--submenu-z) - 10);
}

/* ===== Button (shows in desktop; hidden in mobile) ===== */
.menu-icon-button {
  position: fixed;
  top: 12px;
  left: 12px;
  z-index: calc(var(--submenu-z) + 10);
  background: transparent;
  border: none;
  font-size: 1.25rem;
  display: none; /* visible only in desktop media query */
  align-items: center;
  justify-content: center;
  padding: 8px;
  cursor: pointer;
  border-radius: 8px;
}
.menu-icon-button:focus { outline: 2px solid rgba(51,102,255,0.25); outline-offset:2px; }

/* Bottom nav hidden by default -> visible in mobile */
.bottom-nav { display:none; }

/* ===== Desktop: show sidebar by default and allow collapse via body.sidebar-collapsed ===== */
@media (min-width: 901px) {
  .submenu {
    transform: translateX(0); /* visible */
  }

  /* If user collapses sidebar, apply this class to body */
  body.sidebar-collapsed .submenu {
    transform: translateX(calc(-1 * var(--submenu-width))); /* hide */
  }

  /* By default content is shifted to the right to not be under sidebar */
  body {
    padding-left: var(--submenu-width);
    transition: padding-left .25s ease-in-out;
  }

  /* When collapsed remove the padding so content uses full width */
  body.sidebar-collapsed {
    padding-left: 0;
  }

  /* Show the toggle button in desktop */
  .menu-icon-button {
    display: inline-flex;
  }

  /* bottom nav hidden on desktop */
  .bottom-nav { display: none !important; }

  /* Overlay not used in desktop (sidebar fixed) */
  .overlay { display:none !important; }

   body .bottom-nav {
    display: flex !important;
    visibility: visible !important;
    pointer-events: auto !important;
  }
}

/* ===== Mobile: hide sidebar and button; show bottom nav ===== */
@media (max-width: 900px) {
  /* En mobile sidebar debe permanecer oculta (sin usar !important para que body.sidebar-collapsed no interfiera) */
  .submenu {
    transform: translateX(-100%);
  }

  /* No padding-left en mobile */
  body { padding-left: 0 !important; }

  /* Ocultar el botón en mobile */
  .menu-icon-button { display: none !important; }

  /* Mostrar bottom-nav únicamente en mobile */
  .bottom-nav {
    display:flex !important;
    position:fixed;
    left:0; right:0; bottom:0;
    height:68px;
    justify-content:space-around;
    align-items:center;
    background:#fff;
    border-top:1px solid var(--stroke, #e7eaf0);
    padding:8px 0;
    z-index:120;
  }

  /* Overlay no mostrado por defecto en mobile (no abrimos sidebar en mobile) */
  .overlay { display:none !important; }
}

/* Asegura que #submenu-container esté visible */
#submenu-container, .submenu-root { display:block; }

/* FORZAR ocultamiento del bottom-nav en pantallas de escritorio */
@media (min-width: 901px) {
  /* igualamos la especificidad (body .bottom-nav) y forzamos con !important */
  body .bottom-nav {
    display: none !important;
    visibility: hidden !important;
    pointer-events: none !important;
  }

  /* mostrar el botón de menú en desktop (si lo ocultó browse.css) */
  /* usamos selector con body para mayor especificidad */
  body .menu-icon-button,
  body .submenu-root .menu-icon-button {
    display: inline-flex !important;
    align-items: center;
    justify-content: center;
  }
}


